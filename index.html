<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Layout Castle Builder</title>
  <meta name="robots" content="noindex">
  <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
</head>

<body>

<div class="buildmode">
  <div id="toggle-controls-button-container">
    <label>Toggle Controls</label>
    <input type="checkbox" id="toggle-buildmode" checked>
  </div>
<button id="starting-point-button" style="display:none;" onclick="makeThisMyStartingPoint()">Make This my Starting Point</button>
</div>



<div id="build-controls-container" class="controls">
  <div class="col-container">
    <div id="preview-controls-display"></div>
  </div>

  <div class="col-container">
    <div class="control-group">
      <label>Columns</label>
      <input id="number-of-columns" type="range" min="1" max="11" step="1" value="10">
    </div>
    <div class="control-group">
      <label>Width</label>
      <input id="container-width" type="range" min="2" max="100" step="2" value="30">
    </div>
  </div>


  <div class="col-container">
    <div class="control-group">
      <label>Spacing</label>
      <input id="margin-width" type="range" min="1" max="10" value="1">
    </div>
    <div class="control-group">
      <label>Height</label>
      <input id="block-height" type="range" min="1" max="52" step="1" value="1">
    </div>
  </div>


  <div class="col-container">
    <div class="control-group-3">
      <label>Colour 1</label>
      <input id="block-colour" type="color"  value="#111111">
    </div>
    <div class="control-group-3">
      <label>Colour 2</label>
      <input id="background-colour" type="color" value="#ffffff">
    </div>
    <div class="control-group-3">
      <label>Invert</label>
      <input id="invert-colours" type="checkbox">
    </div>
  </div>

  <hr>

  <div class="col-container">
    <div class="col-container" style="display:none">
      <input type="button" id="save-block" onclick="saveBlock()" value="Save Block">
    </div>
    <div class="col-container">
      <input type="button" id="place-block" onclick="placeBlock()" value="Place Block">
    </div>

    <div class="col-container" style="display:none">
      <input type="button" id="insert-new-block" onclick="insertNewBlockAbove()" value="Insert New Block Above">
    </div>

  </div>

</div>





<div id="group-display">
  <div id="preview-display"></div>
  <div id="display"></div>
</div>


<div class="preview-content">
      <div id="stats-url-container" class="stats-url">
        <div class="col-container">
          <label>Share Blocks - <a href="explore.html">Explore Gallery</a></label>
          
        </div>

        <div class="col-container">
          <div class="control-group">
            <p>Blocks: <strong id="stat-blocks-placed"></strong></p>
          </div>
          <div class="control-group">
            <p>Height: <strong id="stat-castle-height"></strong></p>
          </div>
        </div>

        <div class="col-container">
          <div class="control-group">
            <label>Magnification</label>
          </div>
          <div class="control-group">
            <input id="magnification" type="range" min="2.5" max="10" step="2.5" value="10">
          </div>
        </div>

        <a id="back-home" href="index.html">Back To Build Mode</a>

        <button id="create-history-state-button" onclick="createHistoryFrames()">Create Save Point</button>

        <div id="iframe-history-container"></div>

        <hr>

        <p>Share URL - <a href="" id="castle-history-url-anchor" target="_blank">Click Here</a></p>

        <input type="text" id="castle-history-url-string-container">

        <input type="text" id="castle-history-data-string-container">

        <hr>

        <div class="col-container clear-all-container">
          <input class="clear-all-button" type="button" onclick="clearAll()" value="Clear All">
        </div>

        <hr>

        <form class="codepen-form" style="position:absolute; top: 153px; right: 25px;"  action="http://codepen.io/pen/define" method="POST" target="_blank">

          <!-- We'll populate the value with the data to post to codepen here. -->
          <input id="data-input" type="hidden" name="data" value="">

          <!-- Fancy Pants CodePen Submit Button. -->
          <input style="background-color: #222; float:right; padding: 0.15em 0 0.25em 0.25em; width: 30px; height: 30px;" type="image" src="http://s.cdpn.io/3/cp-arrow-right.svg" width="40" height="40" value="Create Pen" class="codepen-mover-button">

        </form>


        
        
      </div>


  <script src='http://brandonbrule.github.io/itsa/js/itsa.js'></script>
  <script src="js/index.js"></script>
  <script>

var setDataString = function (data){
  var string = JSON.stringify(data);
  string = string.replace(/"/g, "&quot;");
  string = string.replace(/'/g, "&apos;");
  return string;
};
  // Codepen
var data = {
  title              : "",
  description        : "",
  html               : "",
  html_pre_processor : "none",
  css                : ".col-container{ margin: 0 auto; }",
  css_pre_processor  : "",
  css_starter        : "neither",
  css_prefix_free    : false,
  js                 : "",
  js_pre_processor   : "none",
  js_modernizr       : false,
  js_library         : "",
  html_classes       : "",
  css_external       : "http://www.brandonbrule.com/dom-block-builder/css/style.css",
  js_external        : ""
};

data.html = display.innerHTML;


var tesxt = '/*Edit it: \n' + castle_history_url_string_container.value + '*/';
data.js = tesxt;



var dataString = setDataString(data);




// Get Input and Append
var data_input = document.getElementById('data-input');
data_input.value = dataString;
</script>
</body>

</html>